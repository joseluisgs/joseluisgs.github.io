(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{635:function(a,s,t){"use strict";t.r(s);var n=t(15),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[a._v("La frase no es mía, es de del gran "),t("a",{attrs:{href:"https://devexperto.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Antonio Leiva"),t("OutboundLink")],1),a._v(" 👈, en una de las charlas que tenemos a menudo. Pero me ha dado pie a escribir esta entrada, que no es más que una reflexión sobre la programación reactiva y su uso en determinadas aplicaciones y cómo llevarla al terreno de la docencia para explicar sus beneficios al alumnado. ¡Ya somos dos, mi admirado DevExperto! 💪")]),a._v(" "),t("h2",{attrs:{id:"reactividad-¿esto-que-es"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reactividad-¿esto-que-es"}},[a._v("#")]),a._v(" Reactividad: ¿esto qué es?")]),a._v(" "),t("p",[a._v("Vayamos por partes. O sigamos los pasos que hemos realizado en Programación de Servicios y Procesos este curso. La programación reactiva es un paradigma de programación que se basa en la reactividad. La reactividad es un concepto que se basa en la capacidad de reaccionar ante un estímulo. En el caso de la programación reactiva, se basa en la capacidad de reaccionar ante un cambio de estado. Y no es un unicornio mágico que los desarrolladores hablemos por rincones oscuros de la web, es algo más simple y sencillo que combina distintas ideas y patrones de programación para conseguir ese resultado: "),t("em",[a._v("reaccionar ante un cambio de estado")]),a._v(".")]),a._v(" "),t("h2",{attrs:{id:"¿que-es-un-cambio-de-estado"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#¿que-es-un-cambio-de-estado"}},[a._v("#")]),a._v(" ¿Qué es un cambio de estado?")]),a._v(" "),t("p",[a._v("Por ejemplo, si estamos en nuestro timeline de Twitter/LinkedIn o red favorita y alguien nos menciona, nos llega un mensaje, nos llega una notificación, etc. ¿Estamos constantemente preguntando si nos han mencionado para mostrar esa notificación? ¡No!  De alguna manera, delegamos esa acción y somos nosotros los que reaccionamos ante ese cambio de estado.")]),a._v(" "),t("h2",{attrs:{id:"patron-observer-y-los-eventos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#patron-observer-y-los-eventos"}},[a._v("#")]),a._v(" Patrón Observer y los eventos")]),a._v(" "),t("p",[a._v("Esto es tan viejo, como el "),t("a",{attrs:{href:"https://refactoring.guru/es/design-patterns/observer",target:"_blank",rel:"noopener noreferrer"}},[a._v("patrón Observer"),t("OutboundLink")],1),a._v(" o el el propio uso de los eventos. En el patrón Observer, tenemos un sujeto que es el que emite los cambios de estado y un observador que es el que reacciona ante esos cambios de estado. De hecho lenguajes como Kotlin "),t("span",{staticClass:"iconify",attrs:{"data-icon":"logos:kotlin-icon"}}),a._v(" lo tienen incorporado en el sistema en varios tipos de delegados: "),t("a",{attrs:{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-delegates/observable.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("observable"),t("OutboundLink")],1),a._v(" o "),t("a",{attrs:{href:"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-delegates/vetoable.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("vetoable"),t("OutboundLink")],1),a._v(". En el caso de los eventos, tenemos un emisor de eventos y un receptor de eventos. En ambos casos, el emisor y el receptor no se conocen entre sí, pero ambos saben que el otro existe y que reaccionará ante un cambio de estado. ¿Lo ves? Lo llevas usando todo el tiempo y no lo sabías.")]),a._v(" "),t("p",{staticStyle:{"text-align":"center"}},[t("img",{staticStyle:{"border-radius":"0.25rem"},attrs:{loading:"lazy",src:"https://refactoring.guru/images/patterns/content/observer/observer-comic-1-es.png",alt:"Imagen"}}),a._v(" "),t("img",{staticStyle:{"border-radius":"0.25rem"},attrs:{loading:"lazy",src:"https://refactoring.guru/images/patterns/diagrams/observer/structure.png",alt:"Imagen"}})]),a._v(" "),t("p",[a._v("Aquí te dejo una simple implementación en Kotlin "),t("span",{staticClass:"iconify",attrs:{"data-icon":"logos:kotlin-icon"}}),a._v(" de un patrón Observer por si tienes curiosidad usada en clase. Lo ves ya sabes reactividad "),t("span",{staticClass:"iconify",attrs:{"data-icon":"logos:reactivex"}}),a._v(":")]),a._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Una interfaz, podríamos usar genéricos")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" Publisher "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fun")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("onNews")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("news"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Radio Una clase que implementa la interfaz")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" RadioChannel "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" Publisher "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("override")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fun")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("onNews")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("news"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"La radio informa: ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("$")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("news")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Periodico Una clase que implementa la interfaz")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" Newspaper "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" Publisher "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("override")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fun")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("onNews")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("news"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" String"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"El periódico informa: ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("$")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("news")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Agencia que es observada")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" NewsAgency "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Lista de observadores, son los que implementan la interfaz")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("private")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("val")]),a._v(" listeners "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mutableListOf"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Publisher"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Usamos los delegados que automaticamente si detectan un cambio avisan")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" news"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" String "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("by")]),a._v(" Delegates"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("observable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("initialValue "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" _"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" old"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" new "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("new "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!=")]),a._v(" old"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" listeners"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("map")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" listener "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v(" listener"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("onNews")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("new"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Añadimos un observador")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fun")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("subscribe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("publisher"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" Publisher"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" listeners"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("publisher"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Eliminamos un observador")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fun")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("unsubscribe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("publisher"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" Publisher"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" listeners"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("remove")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("publisher"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fun")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Preparamos los objetos observadores que reaccionarán ante un cambio de estado")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("val")]),a._v(" radioChannel "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("RadioChannel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("val")]),a._v(" newspaper "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("Newspaper")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("val")]),a._v(" newsAgency "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("NewsAgency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Suscribimos a la agencia, me observan si cambio de estado")]),a._v("\n    newsAgency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("subscribe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("radioChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    newsAgency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("subscribe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("newspaper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Lanzamos una noticia. Al estar el delegado, la observa y automáticamente notifica")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// A mis observadores ante el cambio de estado, ¿lo ves?")]),a._v("\n    newsAgency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("news "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"¡Nadal Gana!"')])]),a._v("\n    newsAgency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("news "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"¡Hoy llueve!"')])]),a._v("\n    newsAgency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("news "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"¡Todos han aprobado!"')])]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Los periódicos se retiran")]),a._v("\n    newsAgency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("unsubscribe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("newspaper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    newsAgency"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("news "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Llegan las vacaciones :)"')])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br"),t("span",{staticClass:"line-number"},[a._v("23")]),t("br"),t("span",{staticClass:"line-number"},[a._v("24")]),t("br"),t("span",{staticClass:"line-number"},[a._v("25")]),t("br"),t("span",{staticClass:"line-number"},[a._v("26")]),t("br"),t("span",{staticClass:"line-number"},[a._v("27")]),t("br"),t("span",{staticClass:"line-number"},[a._v("28")]),t("br"),t("span",{staticClass:"line-number"},[a._v("29")]),t("br"),t("span",{staticClass:"line-number"},[a._v("30")]),t("br"),t("span",{staticClass:"line-number"},[a._v("31")]),t("br"),t("span",{staticClass:"line-number"},[a._v("32")]),t("br"),t("span",{staticClass:"line-number"},[a._v("33")]),t("br"),t("span",{staticClass:"line-number"},[a._v("34")]),t("br"),t("span",{staticClass:"line-number"},[a._v("35")]),t("br"),t("span",{staticClass:"line-number"},[a._v("36")]),t("br"),t("span",{staticClass:"line-number"},[a._v("37")]),t("br"),t("span",{staticClass:"line-number"},[a._v("38")]),t("br"),t("span",{staticClass:"line-number"},[a._v("39")]),t("br"),t("span",{staticClass:"line-number"},[a._v("40")]),t("br"),t("span",{staticClass:"line-number"},[a._v("41")]),t("br"),t("span",{staticClass:"line-number"},[a._v("42")]),t("br"),t("span",{staticClass:"line-number"},[a._v("43")]),t("br"),t("span",{staticClass:"line-number"},[a._v("44")]),t("br"),t("span",{staticClass:"line-number"},[a._v("45")]),t("br"),t("span",{staticClass:"line-number"},[a._v("46")]),t("br"),t("span",{staticClass:"line-number"},[a._v("47")]),t("br"),t("span",{staticClass:"line-number"},[a._v("48")]),t("br"),t("span",{staticClass:"line-number"},[a._v("49")]),t("br"),t("span",{staticClass:"line-number"},[a._v("50")]),t("br"),t("span",{staticClass:"line-number"},[a._v("51")]),t("br"),t("span",{staticClass:"line-number"},[a._v("52")]),t("br")])]),t("h2",{attrs:{id:"programacion-asincrona"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#programacion-asincrona"}},[a._v("#")]),a._v(" Programación asíncrona")]),a._v(" "),t("p",[a._v("La programación asíncrona es un concepto que se basa en la ejecución de tareas de forma no síncrona. Esto quiere decir, que no se tiene por qué ejecutar una detrás de otras en el mismo hilo de ejecución esperando una instrucción a la anterior para poder ejecutarse. La programación asíncrona nos da la capacidad de “diferir” la ejecución de una rutina a la espera de que se complete una operación, normalmente de I/O (red, disco duro, etc.), y así evitar bloquear la ejecución hasta que se haya completado la tarea en cuestión. Esto además nos permite ejecutar varias tareas a la vez de manera concurrente, sin tener que esperar a que una de ellas termine para poder ejecutar la siguiente.")]),a._v(" "),t("p",{staticStyle:{"text-align":"center"}},[t("img",{staticStyle:{"border-radius":"0.25rem"},attrs:{loading:"lazy",src:"https://blog.kakaocdn.net/dn/btDTJ1/btqKEAB7QfT/frFPyvHrNiygGeJLzyW7tK/img.png",alt:"Imagen"}})]),a._v(" "),t("p",[a._v("¿Y por qué es importante la asincronía para ser reactivos? ¿Sabes cuando has de reaccionar? Por ejemplo, ¿debes bloquearte para ello si necesitas reaccionar si hay un cambio en la base de datos? Es por ello que la programación reactiva se basa en la programación asíncrona como uno de sus pilares fundamentales.")]),a._v(" "),t("p",[a._v("Te dejo un ejemplo de programación asíncrona en Kotlin con async/await para "),t("a",{attrs:{href:"https://github.com/joseluisgs/ProgServiciosProcesos-02-2022-2023/blob/main/19-Corrutinas/src/main/kotlin/corrutinas/06-RSS-Async.kt",target:"_blank",rel:"noopener noreferrer"}},[a._v("procesar un RSS"),t("OutboundLink")],1),a._v(" "),t("span",{staticClass:"iconify",attrs:{"data-icon":"logos:kotlin-icon"}}),a._v(":")]),a._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fun")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" runBlocking"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Unit"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    measureTimeMillis "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Obteniendo noticias"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("val")]),a._v(" noticiasAsync "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" async "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getNoticias")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://www.20minutos.es/rss/"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Descargando:"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Esto es para que se quede bonito, pero en el fondo me está suspendiendo con el delay!!!")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("while")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("noticiasAsync"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("isCompleted"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"."')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("delay")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("250")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Noticias descargadas"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("val")]),a._v(" noticias "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" noticiasAsync"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("await")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Noticias obtenidas: ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("${")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("noticias"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("size")]),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n        noticias"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("forEachIndexed")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" noticia "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Nº ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("${")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("index "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")])]),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v(": ")]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("$")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("noticia")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("let")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Tiempo total: ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("$")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("it")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v(' ms"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br")])]),t("h2",{attrs:{id:"procesamiento-de-colecciones"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#procesamiento-de-colecciones"}},[a._v("#")]),a._v(" Procesamiento de colecciones")]),a._v(" "),t("p",[a._v("Y sí, procesar colecciones de manera asíncrona es fundamental para la reactividad, si no, ¿cómo vas a detectar el famoso cambio de estado ante distintos valores? Si tenemos una fuente de datos como una base de datos que puede cambiar, lo ideal es reaccionar ante el cambio y procesar esos datos de manera asíncrona.")]),a._v(" "),t("h2",{attrs:{id:"programacion-reactiva"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#programacion-reactiva"}},[a._v("#")]),a._v(" Programación reactiva")]),a._v(" "),t("p",[a._v("Ahora sí estamos preparados para saber que es la programación reactiva de acuerdo a su manifiesto.")]),a._v(" "),t("p",[a._v("La "),t("a",{attrs:{href:"https://profile.es/blog/que-es-la-programacion-reactiva-una-introduccion/",target:"_blank",rel:"noopener noreferrer"}},[a._v("programación reactiva"),t("OutboundLink")],1),a._v(" es un paradigma enfocado en el trabajo con flujos de datos (nuestras colecciones) finitos o infinitos de manera asíncrona con el objetivo de reaccionar al cambio de estado que pueda producirse en los mismo. Su concepción y evolución ha ido ligada a la publicación del "),t("a",{attrs:{href:"https://www.reactivemanifesto.org/es",target:"_blank",rel:"noopener noreferrer"}},[a._v("Reactive Manifesto"),t("OutboundLink")],1),a._v(", que establecía las bases de los sistemas reactivos, los cuales deben ser:")]),a._v(" "),t("ul",[t("li",[a._v("Responsivos: aseguran la calidad del servicio cumpliendo unos tiempos de respuesta establecidos.")]),a._v(" "),t("li",[a._v("Resilientes: se mantienen responsivos incluso cuando se enfrentan a situaciones de error.")]),a._v(" "),t("li",[a._v("Elásticos: se mantienen responsivos incluso ante aumentos en la carga de trabajo.")]),a._v(" "),t("li",[a._v("Orientados a mensajes: minimizan el acoplamiento entre componentes al establecer interacciones basadas en el intercambio de mensajes de manera asíncrona.")])]),a._v(" "),t("p",{staticStyle:{"text-align":"center"}},[t("img",{staticStyle:{"border-radius":"0.25rem"},attrs:{loading:"lazy",src:"https://www.reactivemanifesto.org/images/reactive-traits-es.svg",alt:"Imagen"}})]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"},[a._v("Programación reactiva: programación asíncrona de flujos observables")]),t("p",[a._v("No te líes, procesas el cambio de estado observando y procesando colecciones (flujos de datos) de manera asíncrona. Es decir: patrón observador, programación asíncrona y procesamiento de colecciones en base a ideas similares al productor-consumidor y el manejo del Backpressure (se genera más elementos de los que un Subscriber puede consumir).")])]),t("h2",{attrs:{id:"librerias-de-programacion-reactiva"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#librerias-de-programacion-reactiva"}},[a._v("#")]),a._v(" Librerías de programación reactiva")]),a._v(" "),t("p",[a._v("Existen varias librerías de programación reactiva, te cito algunas:")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://kotlinlang.org/docs/flow.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Kotlin Flows"),t("OutboundLink")],1),a._v(": es la librería de Kotlin que te permite "),t("a",{attrs:{href:"https://elizarov.medium.com/reactive-streams-and-kotlin-flows-bfd12772cda4",target:"_blank",rel:"noopener noreferrer"}},[a._v("procesar flujos de datos de manera asíncrona"),t("OutboundLink")],1),a._v(" y reaccionar ante el cambio de los mismos.")]),a._v(" "),t("li",[t("a",{attrs:{href:"https://reactivex.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Rx"),t("OutboundLink")],1),a._v(": fueron las pioneras en el desarrollo reactivo Js, .Net y Java/Kotlin, (actualmente van por la versión 3). Se encuentran completamente integradas en frameworks como Spring MVC, Spring Cloud y Netflix OSS.")]),a._v(" "),t("li",[t("a",{attrs:{href:"https://projectreactor.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Reactor"),t("OutboundLink")],1),a._v(": Parte de RxJava 2. Este API introduce los tipos Flux y Mono como implementaciones de Publisher, los cuales generan series de 0…N y 0…1 elementos respectivamente")]),a._v(" "),t("li",[t("a",{attrs:{href:"https://ngrx.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("NgRx"),t("OutboundLink")],1),a._v(": es un marco para construir aplicaciones reactivas en Angular.")]),a._v(" "),t("li",[t("a",{attrs:{href:"https://developer.android.com/topic/libraries/architecture/livedata?hl=es-419",target:"_blank",rel:"noopener noreferrer"}},[a._v("LiveData"),t("OutboundLink")],1),a._v(" es una clase de contenedor de datos observables. LiveData está optimizado para ciclos de vida, lo que significa que respeta el ciclo de vida de otros componentes de las apps, como actividades, fragmentos o servicios and Android.")])]),a._v(" "),t("p",[a._v("Los que me conocen saben muy pro Kotlin, por lo que te dejo una sencilla implementación de"),t("a",{attrs:{href:"https://github.com/joseluisgs/ProgServiciosProcesos-02-2022-2023/blob/main/19-Corrutinas/src/main/kotlin/flows/09-RSS-Flows.kt",target:"_blank",rel:"noopener noreferrer"}},[a._v(" Kotlin Flows para procesar un RSS"),t("OutboundLink")],1),a._v(". Como puedes ver, esta vez no preguntamos activamente si hay noticias, simplemente observamos el flujo de datos y reaccionamos ante el cambio de estado asíncronamente, simplemente cuando lleguen o vayan llegando las procesamos.")]),a._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fun")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" runBlocking"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Unit"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    measureTimeMillis "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Obteniendo noticias"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("val")]),a._v(" noticiasFlow "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getNoticiasAsFlow")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://www.20minutos.es/rss/"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n        launch "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// en una parte de la interfaz podemos actualizar las noticias cada 3 segundos")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("delay")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n            noticiasFlow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("collect")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Actualización de noticias Cliente 1"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Noticias Cliente 1: ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("${")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("it"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("size")]),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n                it"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("distinct")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("take")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("forEachIndexed")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" noticia "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("\n                    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Cliente 1 -> Noticia ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("${")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("index "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")])]),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v(": ")]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("${")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("noticia"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("titulo")]),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// En otra parte de la interfaz solo recoger las 10 primeras noticias una vez")]),a._v("\n        launch "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Otro cliente!!")]),a._v("\n            noticiasFlow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("take")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("collect")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Actualización de noticias Cliente 2"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Noticias Cliente 2: ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("${")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("it"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("size")]),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n                it"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("take")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("forEachIndexed")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" noticia "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("\n                    "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Cliente 2 -> Noticia ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("${")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("index "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")])]),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v(": ")]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("${")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("noticia"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("titulo")]),t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("}")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("also")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Tiempo de ejecución: ')]),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("$")]),t("span",{pre:!0,attrs:{class:"token expression"}},[a._v("it")])]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v(' ms"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br"),t("span",{staticClass:"line-number"},[a._v("23")]),t("br"),t("span",{staticClass:"line-number"},[a._v("24")]),t("br"),t("span",{staticClass:"line-number"},[a._v("25")]),t("br"),t("span",{staticClass:"line-number"},[a._v("26")]),t("br"),t("span",{staticClass:"line-number"},[a._v("27")]),t("br"),t("span",{staticClass:"line-number"},[a._v("28")]),t("br"),t("span",{staticClass:"line-number"},[a._v("29")]),t("br"),t("span",{staticClass:"line-number"},[a._v("30")]),t("br"),t("span",{staticClass:"line-number"},[a._v("31")]),t("br")])]),t("h2",{attrs:{id:"aplicaciones-de-programacion-reactiva"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aplicaciones-de-programacion-reactiva"}},[a._v("#")]),a._v(" Aplicaciones de programación reactiva")]),a._v(" "),t("p",[a._v("Entramos en la parte interesante, ¿Cuáles son las aplicaciones de la programación reactiva? Pues si has seguido el artículo, en todo lo quue implique reaccionar ante un cambio que no sabes cuándo se producirá y por lo tanto no puedes preguntar activamente por el mismo bloqueando el hilo principal.")]),a._v(" "),t("h3",{attrs:{id:"interactividad-en-aplicaciones"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#interactividad-en-aplicaciones"}},[a._v("#")]),a._v(" Interactividad en aplicaciones")]),a._v(" "),t("p",[a._v("En aplicaciones de escritorio, móviles o web, la interactividad es un factor clave. La programación reactiva permite que las aplicaciones reaccionen ante los cambios de estado de manera asíncrona y sin bloquear el hilo principal. Por ejemplo, si estamos en un móvil, podemos suscribirnos a los cambios en la base de datos y si hay un cambio actualizar nuestra interfaz de usuario sin bloquear el hilo principal. Esto en librerías como "),t("a",{attrs:{href:"https://developer.android.com/codelabs/basic-android-kotlin-training-intro-room-flow#8",target:"_blank",rel:"noopener noreferrer"}},[a._v("Android Jetpack con Room"),t("OutboundLink")],1),a._v(" es sencillo ya que podemos enganchar un flujo. De esta manera podemos suscribirnos a una api rest, una base de datos y reaccionar ante los cambios de estado mostrando cambios, notificaciones o lo que queramos de manera sencilla en nuestra interfaz.\n")]),t("p",{staticStyle:{"text-align":"center"}},[t("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/0EQEzBf6mmA",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),t("p"),a._v(" "),t("h3",{attrs:{id:"servicios-reactivos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#servicios-reactivos"}},[a._v("#")]),a._v(" Servicios reactivos")]),a._v(" "),t("p",[a._v("Como profesor de PSP, En servicios, la ejecución asíncrona y sin bloqueo y la E/S suelen ser más rentables mediante un uso más eficiente de los recursos. Ayuda a minimizar la contención (congestión) en los recursos compartidos del sistema, que es uno de los mayores obstáculos para la escalabilidad, la baja latencia y el alto rendimiento.")]),a._v(" "),t("p",[a._v("Imagina un servicio que necesita realizar 10 solicitudes a una base de datos y esperar su respuestas. Digamos que cada solicitud tarda 100 milisegundos. Si necesita ejecutarlos de manera secuencial sincrónica, el tiempo total de procesamiento será de aproximadamente 1 segundo. Mientras que si es capaz de ejecutarlos todos de forma asincrónica, el tiempo de procesamiento será de solo 100 milisegundos.")]),a._v(" "),t("p",{staticStyle:{"text-align":"center"}},[t("img",{staticStyle:{"border-radius":"0.25rem"},attrs:{loading:"lazy",src:"https://www.oreilly.com/content/wp-content/uploads/sites/2/2019/06/rmsa_0205-f7eae52869f830276d27303f906ed984.png",alt:"Imagen"}}),a._v(" "),t("img",{staticStyle:{"border-radius":"0.25rem"},attrs:{loading:"lazy",src:"https://www.oreilly.com/content/wp-content/uploads/sites/2/2019/06/rmsa_0206-90859a48270159117ee15bc1df03f001.png",alt:"Imagen"}})]),a._v(" "),t("p",[a._v("Por otro lado, sabemos que los accesos a la base de datos con JDBC por ejemplo son bloqueantes, si conseguimos trabajar con drivers reactivos como R2DBC podemos mejorar el rendimiento de nuestro servicio al no bloquear nunca la llamada.")]),a._v(" "),t("p",{staticStyle:{"text-align":"center"}},[t("img",{staticStyle:{"border-radius":"0.25rem"},attrs:{loading:"lazy",src:"https://www.oreilly.com/content/wp-content/uploads/sites/2/2019/06/rmsa_0207-30c0306d4e47f1d4549937a30c2edb03.png",alt:"Imagen"}})]),a._v(" "),t("p",[a._v("Con estas ideas en mente, podemos ver que la programación reactiva es una buena opción para servicios que necesiten realizar muchas operaciones y con ello no penalizar el rendimiento de nuestro servicio.")]),a._v(" "),t("p",{staticStyle:{"text-align":"center"}},[t("img",{staticStyle:{"border-radius":"0.25rem"},attrs:{loading:"lazy",src:"https://frandorado.github.io/assets/images/posts/2019-06-26/spring-mvc-webflux-chart.png"}})]),a._v(" "),t("h3",{attrs:{id:"conclusiones"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#conclusiones"}},[a._v("#")]),a._v(" Conclusiones")]),a._v(" "),t("p",[a._v("A lo largo de esta entrada he intentado acercaos a la programación reactiva, sus conceptos básicos y sus aplicaciones. No es algo tan temible y creo que podrás usarla en tus proyectos sin problemas. Para mi es fundamental en módulos como Acceso a Datos y Programación de Servicios y Procesos saber dominar los elementos claves detectando cuándo es necesaria y qué ventajas nos aporta.")]),a._v(" "),t("p",[a._v("Te invito a que te adentres en este mundo, sobre todo, que poco a poco lo integres en tu back o front y por supuesto en tus proyectos y clases.")]),a._v(" "),t("p",[a._v("Por favor si te ha gustado, comparte y comenta. Si tienes alguna duda o quieres comentar algo, puedes hacerlo en "),t("a",{attrs:{href:"https://twitter.com/joseluisgonsan",target:"_blank",rel:"noopener noreferrer"}},[a._v("Twitter"),t("OutboundLink")],1),a._v("/"),t("a",{attrs:{href:"https://www.linkedin.com/in/joseluisgonsan/",target:"_blank",rel:"noopener noreferrer"}},[a._v("LinkedIn"),t("OutboundLink")],1),a._v(" o consultar proyectos para el alumnado en mi "),t("a",{attrs:{href:"https://github.com/joseluisgs",target:"_blank",rel:"noopener noreferrer"}},[a._v("GitHub"),t("OutboundLink")],1),a._v(".")]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"},[a._v("Yo tampoco sé programar sin reactividad")]),t("p",[a._v("Y sí, amigo "),t("a",{attrs:{href:"https://devexperto.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Antonio"),t("OutboundLink")],1),a._v(", yo tampoco sé programar sin reactividad y así nos va. Interfaces que reaccionan, microservicios mas ligeros, bases de datos que no bloquean, etc... Todo es reactividad.")])]),t("p",{staticStyle:{"text-align":"center"}},[t("img",{staticStyle:{"border-radius":"0.25rem"},attrs:{loading:"lazy",src:"https://cdn-images-1.medium.com/fit/t/1600/480/1*JFYXKcW3Gae_2MFWwFX5lg.png"}})])])}),[],!1,null,null,null);s.default=e.exports}}]);